apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion versions.compileSdkVersion
    buildToolsVersion versions.buildToolsVersion

    def Properties properties = new Properties()
    properties.load(project.rootProject.file("local.properties").newDataInputStream())

    defaultConfig {
        applicationId "br.com.android.victorcs.mvvmarvel"
        minSdkVersion versions.minSdkVersion
        targetSdkVersion versions.targetSdkVersion
        versionCode versions.versionCode
        versionName versions.versionName

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"

//        resValue("String", "API_URL_BASE", properties.getProperty("api_url_base"))
//        resValue("String", "API_KEY", properties.getProperty("private_key"))
        buildConfigField "String", "API_URL_BASE", properties.getProperty("api_url_base")
        buildConfigField "String", "API_KEY", properties.getProperty("private_key")
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation deps.kotlin.jdk
    implementation deps.androidx.appcompat
    implementation deps.androidx.core
    implementation deps.androidx.constraintlayout

    implementation deps.androidx.multidex

    implementation deps.timber

    implementation  deps.dagger.dagger
    implementation  deps.dagger.android
    implementation  deps.dagger.support
    kapt  deps.dagger.compiler
    kapt  deps.dagger.processor
    kapt  deps.dagger.support

    implementation deps.retrofit.core
    implementation deps.retrofit.converter
    implementation deps.retrofit.adapter

    implementation deps.androidx.room.runtime
    annotationProcessor deps.androidx.room.compiler
    implementation deps.androidx.room.coroutines

    implementation deps.okhttp.core
    implementation deps.okhttp.logging
    implementation deps.google.gson

    implementation  deps.coroutines.core
    implementation  deps.coroutines.android

    testImplementation deps.test.junit.junit
    androidTestImplementation deps.test.junit.ext
    implementation deps.androidx.test.espresso
}
